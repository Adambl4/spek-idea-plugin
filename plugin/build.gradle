apply plugin: 'org.jetbrains.intellij'
apply plugin: "idea"
apply plugin: "kotlin"

configurations {
    spek

    compileOnly {
        extendsFrom spek
    }
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"
    compile "org.jetbrains.kotlin:kotlin-runtime:$kotlinVersion"
    spek project(':tooling')
}

intellij {
    pluginName = 'spek-idea-plugin'
    version = '143.1821.5'
//     version = '2016.1'
    type = 'IC'
    updateSinceUntilBuild = false
    plugins = ['org.jetbrains.kotlin:1.0.3-release-IJ143-105']
//     plugins = ['org.jetbrains.kotlin:1.0.3-release-IJ2016.1-103']
    downloadSources = true
}

processResources {
    from(configurations.spek) {
        into "tooling"
    }
}
